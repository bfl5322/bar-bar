<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="Description" content="Put your description here.">
  <base href="/">

  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background-color: #ededed;
    }
  </style>
  <title>bar-bar</title>
</head>

<body>
  
  <bar-bar></bar-bar>
  <backend></backend>

  <script type="module" src="./src/bar-bar.js">
      async function loadConfig() {
      const configElement = document.getElementById('config');
      const configURL = configElement.src;
      const response = await fetch(configURL);
      const config = await response.json();

      return config;
    }

    loadConfig().then((config) => {
      const container = document.getElementById('progress-bars-container');
      config.bars.forEach((bar) => {
        const progressBar = document.createElement('bar-bar');
        progressBar.duration = bar.duration;
        progressBar.intervalDuration = bar.intervalDuration;
        container.appendChild(progressBar);
      });
    });
  </script>
</body>

</html>